def max_sum(n, a):
    if n == 1:
        return a[0]
    if n == 2:
        return max(a[0] + a[1], a[0] - a[1], -a[0] + a[1], -a[0] - a[1])
    if n == 3:
        return max(a[0] + a[1] + a[2], a[0] + a[1] - a[2], a[0] - a[1] + a[2], a[0] - a[1] - a[2], \
                   -a[0] + a[1] + a[2], -a[0] + a[1] - a[2], -a[0] - a[1] + a[2], -a[0] - a[1] - a[2])
    if n == 4:
        return max(a[0] + a[1] + a[2] + a[3], a[0] + a[1] + a[2] - a[3], a[0] + a[1] - a[2] + a[3], a[0] + a[1] - a[2] - a[3], \
                   a[0] - a[1] + a[2] + a[3], a[0] - a[1] + a[2] - a[3], a[0] - a[1] - a[2] + a[3], a[0] - a[1] - a[2] - a[3], \
                   -a[0] + a[1] + a[2] + a[3], -a[0] + a[1] + a[2] - a[3], -a[0] + a[1] - a[2] + a[3], -a[0] + a[1] - a[2] - a[3], \
                   -a[0] - a[1] + a[2] + a[3], -a[0] - a[1] + a[2] - a[3], -a[0] - a[1] - a[2] + a
