def main():
    H, W = map(int, input().split())
    S = [list(input()) for _ in range(H)]
    # print(H, W)
    # print(S)
    # 1. 先求出每个点的左边、右边、上边、下边的障碍物的个数
    # 2. 再求出每个点的左上、右上、左下、右下的障碍物的个数
    # 3. 最后将每个点的四个方向的障碍物个数相加，再减去左上、右上、左下、右下的障碍物个数，就是该点可以照亮的方格数
    # 4. 求出所有点的照亮方格数的最大值
    # 5. 注意，每个点的左边、右边、上边、下边的障碍物个数，以及左上、右上、左下、右下的障碍物个数，可以用动态规划算出来
    # 1. 先求出每个点的左边、右边、上边、下边的障碍物的个数
    # 2. 再求出每个点的左上、右上、左下、右下的障碍物的个数
    # 3. 最后将每个点的四个方向的障碍物个数相加，再减去左上、右上、左下、右下的障碍物个数，就是该点可以照亮的方格数
    # 4. 求出所有点的照亮方格数的最大值
    # 5. 注意，每个点的左边、右边、上边、下边的障碍物个数，以及左上、右上、左下、右下的障碍物个数，可以用动态规划算出来
    #
