def main():
    S = input()
    Q = S.count('?')
    print(Q)
    print(S)
    print(3**Q)
    #print(3**Q%1000000007)
