def main():
    N, K = map(int, input().split())
    A = list(map(int, input().split()))
    ans = 0
    # iを固定してjを動かす
    # iとjの差がKになる組み合わせを数える
    # iとjの差がKになるというのは、jまでの累積和からiまでの累積和を引いた値がKになるということ
    # つまり、jまでの累積和がK+iになる組み合わせを数える
    # jまでの累積和がK+iになる組み合わせを数えるには、累積和の中でK+iがいくつあるかを数えればいい
    # つまり、累積和の中でK+iがいくつあるかを数える
    # これを辞書で管理する
    # 辞書のキーは累積和、値はその累積和が出現した回数
    # 例えば、累積和がK+iになる組み合わせを数えるときに、累積和がK+iになる組み合わせが2回あったとする
    # そのとき、辞書の値は2になる
    # 辞書の値を数え上げるのは、辞書の値の総和になる
    # ここで、累積和の中でK+iがいくつあるかを数えるときに、累積和がK+iになる組み合わせが2回あったとする
    # そのとき、累積和がK+iになる組み合わせは2通りある
    # それは、(K+i,K+i)と

if __name__ == '__main__':
    main()