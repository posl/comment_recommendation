def main():
    N, Q = map(int, input().split())
    # N = 10^9
    # Q = 2*10^5
    # T_i = 1,2,3, A_i = 1,2,3, B_i = 1,2,3
    # A_i != B_i
    # T_i = 3 がある
    # 1 <= i <= Q
    # 1 <= A_i <= N
    # 1 <= B_i <= N
    # 2 <= N <= 10^9
    # 1 <= Q <= 2*10^5
    # T_i = 1,2,3
    # T_i = 3 がある
    # A_i != B_i
    # 1 <= i <= Q
    # 1 <= A_i <= N
    # 1 <= B_i <= N
    # 2 <= N <= 10^9
    # 1 <= Q <= 2*10^5
    # T_i = 1,2,3
    # T_i = 3 がある
    # A_i != B_i
    # 1 <= i <= Q
    # 1 <= A_i <= N
    # 1 <= B_i <= N
    # 2 <= N <= 10^9
    # 1 <= Q <= 2*10^5
    # T_i = 1,2,3
    # T_i = 3 がある
    # A_i != B_i
    # 1 <= i <= Q
    # 1 <= A_i <= N
    # 1 <= B_i <= N
    # 2 <= N <= 10^9
    # 1 <= Q <= 2*10^5
    # T_i = 1,2,3
    # T_i = 3 がある
    # A_i != B_i
    # 1 <= i <= Q
    # 1 <= A_i <= N
    # 1 <= B_i <= N
    # 2 <= N <= 10^9
    # 1 <= Q <= 2*10^5
    # T_i = 1,2,3

if __name__ == '__main__':
    main()