def main():
    H, W = map(int, input().split())
    C_h, C_w = map(int, input().split())
    D_h, D_w = map(int, input().split())
    S = [list(input()) for _ in range(H)]
    C_h -= 1
    C_w -= 1
    D_h -= 1
    D_w -= 1
    # 4方向への移動
    dh = [1, 0, -1, 0]
    dw = [0, 1, 0, -1]
    # 5x5の範囲内にある道のマスへワープ魔法で移動する
    # 5x5の範囲内にある道のマスへワープ魔法で移動する
    # ワープ魔法を使う最小回数を出力せよ。(D_h,D_w) に到達不可能な場合、かわりに -1 と出力せよ。
    # どのマスにも移動できない場合は-1を出力する
    # 4方向への移動
    # ワープ魔法を使う最小回数を出力せよ。(D_h,D_w) に到達不可能な場合、かわりに -1 と出力せよ。
    # どのマスにも移動できない場合は-1を出力する
    # 4方向への移動
    # ワープ魔法を使う最小回数を出力せよ。(D_h,D_w) に到達不可能な場合、かわりに -1 と出力せよ。
    # どのマスにも移動できない場合は-1を出力する
    # 4方向への移動
    # ワープ魔法を使う最小回数を出力せよ。(D_h,D_w) に到達不可能な場合、か

if __name__ == '__main__':
    main()