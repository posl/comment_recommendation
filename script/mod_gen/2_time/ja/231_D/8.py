def main():
    N, M = map(int, input().split())
    AB = [list(map(int, input().split())) for _ in range(M)]
    AB.sort(key=lambda x: x[1])
    # 1人目は必ず1番目に並ぶ
    # 2人目は必ず2番目に並ぶ
    # 3人目は必ず3番目に並ぶ
    # 4人目は必ず4番目に並ぶ
    # という順番で並ぶことができるかどうかを判定する
    # この順番で並べることができるのは、
    # 1番目の人は、3人目の人の隣り合っている人である必要がある
    # 2番目の人は、4人目の人の隣り合っている人である必要がある
    # 3番目の人は、1人目の人の隣り合っている人である必要がある
    # 4番目の人は、2人目の人の隣り合っている人である必要がある
    # という条件を満たすように並べることができるときである
    # 3番目の人は、1人目の人の隣り合っている人である必要がある
    # という条件は、1番目の人が3人目の人の隣り合っている人であることを意味する
    # 4番目の人は、2人目の人の隣り合っている人である必要がある
    # という条件は、2番目の人が4人目の人の隣り合っている人であることを意味する
    # ということは、1番目の人が3人目の人の

if __name__ == '__main__':
    main()