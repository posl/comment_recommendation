def main():
    N, M = map(int, input().split())
    bridge = [list(map(int, input().split())) for _ in range(M)]
    bridge.reverse()
    # print(bridge)
    # 連結成分の個数
    cnt = N
    # 連結成分の個数を数える
    # 連結成分の個数が1になるまで繰り返す
    # 連結成分の個数が1になると、それ以降の橋の崩落は不便さが増加しない
    # 連結成分の個数が1になるまでの橋の崩落回数を数える
    # 連結成分の個数が1になるまでの橋の崩落回数を、連結成分の個数で割る
    # 連結成分の個数が1になるまでの橋の崩落回数を、連結成分の個数で割った余りを、連結成分の個数で割る
    # 連結成分の個数が1になるまでの橋の崩落回数を、連結成分の個数で割った余りを、連結成分の個数で割った値を、連結成分の個数で割る
    # 連結成分の個数が1になるまでの橋の崩落回数を、連結成分の個数で割った余りを、連結成分の個数で割った値を、連結成分の個数で割った値を、連結成分の個数で割る
    # 連結成分の個数が1になるま

if __name__ == '__main__':
    main()