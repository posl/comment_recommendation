def main():
    n, m = map(int, input().split())
    k = []
    s = []
    for i in range(m):
        ki, *si = map(int, input().split())
        k.append(ki)
        s.append(si)
    p = list(map(int, input().split()))
    #print(n, m)
    #print(k)
    #print(s)
    #print(p)
    # 枚举所有可能的开关状态组合
    # 1. 生成所有可能的开关状态组合
    # 2. 对每个组合，判断是否能点亮所有的灯泡
    # 1. 生成所有可能的开关状态组合
    # 1.1 生成所有可能的开关状态组合的个数
    # 1.2 生成所有可能的开关状态组合
    # 1.3 生成所有可能的开关状态组合的个数
    # 1.4 生成所有可能的开关状态组合
    # 1.1 生成所有可能的开关状态组合的个数
    # 1.1.1 生成所有可能的开关状态组合的个数的二进制表示
    # 1.1.2 生成所有可能的开关状态组合的个数的二进制表示的长度
    # 1.1.1 生成所有可能的开关状态组合的个数的二进制表示
    #

if __name__ == '__main__':
    main()